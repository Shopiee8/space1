import{_ as I}from"./index.9b54dd4e.js";import{o as u,c as m,C as F,a as t,n as T,b as E,m as b,k as x,r as o,y as D,t as L,d as r,g as l,A as W,e as B,L as S}from"./entry.3e07ed2f.js";import{u as N}from"./useLogic.3fa0afca.js";const U=["innerHTML"],M={__name:"Tooltip",props:{label:{type:String,required:!0},active:{type:Boolean,default:!1}},setup(i){return(e,d)=>(u(),m("div",{class:T(["tooltip",{"tooltip--active":i.active}]),tabindex:"0"},[F(e.$slots,"default"),t("p",{class:"tooltip__label",innerHTML:e.$t(i.label)},null,8,U)],2))}};const O={class:"share__copy"},R={class:"share__list"},V={class:"share__list-item"},j=["href"],q={class:"share__list-item"},H=["href"],P={class:"share__list-item"},z=["href"],J={class:"share__list-item"},G=["disabled"],K=["src"],Z={__name:"Share",setup(i){const e=E(),d=b(()=>{var p,s,n,k;let a="a";return(((p=e.profile)==null?void 0:p.startsWith("a"))||((s=e.profile)==null?void 0:s.startsWith("e"))||((n=e.profile)==null?void 0:n.startsWith("i"))||((k=e.profile)==null?void 0:k.startsWith("o")))&&(a="an"),encodeURI(`${a} ${e.profile}`)});let f;try{f=x().locale}catch{}const{generateIFrameSource:w}=N(),c=o(!1),_=o(!1),A=b(()=>_.value?"results.shared_email":e.marketingOptIn?"results.share_email":"results.share_email_consent"),v=o(null),h=o(null);function $(){S.timeline({onComplete:()=>{c.value=!0,S.delayedCall(2,()=>{c.value=!1})}}).from(v.value.querySelectorAll(".share__list-item"),{autoAlpha:0,duration:1,stagger:{each:.1}})}const C=async()=>{_.value=!0,e.marketingOptIn=!0;const a={};a.accepted=!0,a.acceptedTimestamp=new Date,localStorage.setItem("marketing-preferences",JSON.stringify(a)),h.value=await w(f)},g=o(null),y=o(null);return D(()=>{g.value=`https://www.facebook.com/sharer/sharer.php?u=https://preparetopioneer.com/api/share/${e.color}`,y.value=`https://www.linkedin.com/shareArticle?mini=true&url=https://preparetopioneer.com/api/share/${e.color}`,$()}),(a,p)=>{const s=I,n=M;return u(),m("div",{ref_key:"elRef",ref:v,class:"share"},[t("p",O,L(a.$t("header.share_my_aura")),1),t("ul",R,[t("li",V,[t("a",{href:r(g),target:"_blank",rel:"noopener noreferrer"},[l(s,{name:"facebook"})],8,j)]),t("li",q,[t("a",{href:`https://twitter.com/intent/tweet?text=I%20just%20discovered%20my%20pioneer%20profile%20with%20DEPT%C2%AE%20%F0%9F%94%AD%0AI%E2%80%99m%20${r(d)}%0ACreate%20yours%20here%20%E2%80%93&url=https%3A%2F%2Fdept.ly%2Fpioneerme`,target:"_blank",rel:"noopener noreferrer"},[l(s,{name:"twitter"})],8,H)]),t("li",P,[t("a",{href:r(y),target:"_blank",rel:"noopener noreferrer"},[l(s,{name:"linkedin"})],8,z)]),t("li",J,[l(n,{label:r(A),active:r(c)},{default:W(()=>[t("button",{onClick:C,disabled:r(_)},[l(s,{name:"mail"})],8,G)]),_:1},8,["label","active"])])]),r(h)?(u(),m("iframe",{key:0,width:"0",height:"0",src:r(h)},null,8,K)):B("",!0)],512)}}};export{Z as _};
